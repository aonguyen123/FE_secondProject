(window["webpackJsonpreact-antd"]=window["webpackJsonpreact-antd"]||[]).push([[21],{1298:function(e,t,r){"use strict";r.r(t);var n=r(232),a=r(0),c=r.n(a),i=r(38),s=r(880),o=r(881),d=r(5);function l(){var e=Object(a.useState)(""),t=Object(n.a)(e,2),r=t[0],l=t[1],u=Object(i.c)((function(e){return e.uiReducer.loadingData})),f=Object(i.c)((function(e){return e.userReducer.searchUsers})),m=Object(i.c)((function(e){return e.userReducer.userInfo})),h=Object(i.c)((function(e){return e.uiReducer.visible})),E=Object(i.b)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{searchUser:function(e){E(d.a.userActions.searchUser(e,m._id))},showCardUser:function(e){l(e),E(d.a.uiActions.changeVisible(!0))},loadingData:u,searchUsers:f,friends:m.friends,searchEmpty:function(){E(d.a.userActions.searchUserEmpty())}}),h&&c.a.createElement(o.a,{visible:h,onCancelFlowUser:function(){E(d.a.uiActions.changeVisible(!1))},idFriend:r,userCurrent:m}))}r.d(t,"default",(function(){return l}))},880:function(e,t,r){"use strict";var n=r(0),a=r.n(n),c=r(807),i=r(13),s=r(921).a.Search;function o(e){var t=e.searchUser,r=e.loadingData,n=e.searchEmpty;return a.a.createElement(s,{placeholder:Object(i.formatMessage)({id:"home.friends.searchPlacehoder"}),loading:r,onSearch:function(e,r){e&&t(e)},onChange:function(e){e.target.value||n()}})}var d=r(1303),l=r(34),u=r(801),f=r(231),m=r(799);function h(e,t){return a.a.createElement(m.a,null,a.a.createElement(m.a.Item,{onClick:function(){return e(t)}},Object(i.formatMessage)({id:"home.friends.viewDetail"})))}var E=d.b.Item;function b(e){var t=e.friend,r=e.showCardUser,n=e.friends;return a.a.createElement(E,{key:t._id,extra:a.a.createElement(f.c,{key:"more",menu:h(r,t._id)})},a.a.createElement(E.Meta,{avatar:a.a.createElement(u.a,{src:t.photoURL}),title:a.a.createElement(l.a,{to:"/profile/".concat(t._id)},t.displayName),description:-1!==n.findIndex((function(e){return e.idUser._id===t._id}))&&Object(i.formatMessage)({id:"home.friends.follow"})}))}r(907);function U(e){var t=e.searchUsers,r=e.showCardUser,n=e.friends;return a.a.createElement("div",{className:"list-friend-container"},a.a.createElement(d.b,{dataSource:0===t.length?n:t,renderItem:function(e){return a.a.createElement(b,{friend:0===t.length?e.idUser:e,showCardUser:r,friends:n})}}))}function v(e){var t=e.searchUser,r=e.loadingData,n=e.searchUsers,s=e.searchEmpty,d=e.showCardUser,l=e.friends;return a.a.createElement(c.a,{title:Object(i.formatMessage)({id:"home.friends.title"}),size:"small"},a.a.createElement(o,{searchUser:t,loadingData:r,searchEmpty:s}),a.a.createElement(U,{searchUsers:n,showCardUser:d,friends:l}))}r.d(t,"a",(function(){return v}))},881:function(e,t,r){"use strict";var n=r(0),a=r.n(n),c=r(34),i=r(807),s=r(808),o=r(806),d=r(798),l=r(72),u=r(1156),f=r(809),m=r(13),h=r(38),E=r(812),b=r(1276),U=r(822),v=r(1275),p=r(997),g=r(996),w=r(251),O=r.n(w),j=r(231),y=r(5),C=r(236),F=(r(908),i.a.Meta);function A(e){var t=e.visible,r=e.onCancelFlowUser,w=e.idFriend,A=e.userCurrent,_=Object(h.b)(),k=Object(h.c)((function(e){return e.userReducer.userById})),I=Object(h.c)((function(e){return e.userReducer.statusAddFriend})),M=Object(n.useContext)(C.a).socketRef;Object(n.useEffect)((function(){return _(y.a.userActions.fetchUserById(w,A._id)),function(){_(y.a.userActions.cleanUserById())}}),[_,w,A._id]),Object(n.useEffect)((function(){var e=M.current;return e.on("sendAddFriendSuccess",(function(e){_(y.a.userActions.sendAddFriendSuccess(e))})),function(){e.off("sendAddFriendSuccess")}}),[M,_]);return a.a.createElement(o.a,{visible:t,onCancel:r,footer:null,width:350,centered:!1},0===Object.keys(k).length?a.a.createElement(j.d,null):a.a.createElement(i.a,{bordered:!1,cover:a.a.createElement(O.a,{src:k.photoURL,alt:"avatar",style:{height:"200px",objectFit:"cover"},loader:a.a.createElement(d.a,{indicator:a.a.createElement(E.a,{spin:!0})})}),actions:[a.a.createElement(l.a,{title:Object(m.formatMessage)({id:"home.modalViewUser.viewProfile"})},a.a.createElement(c.a,{to:"/profile/".concat(w)},a.a.createElement(b.a,{key:"view-profile"}))),a.a.createElement(l.a,{title:-1!==A.friends.findIndex((function(e){return e.idUser._id===w}))?Object(m.formatMessage)({id:"home.modalViewUser.follow"}):Object(m.formatMessage)({id:"home.modalViewUser.addFriend"})},-1!==A.friends.findIndex((function(e){return e.idUser._id===w}))?a.a.createElement(U.a,{style:{color:"#1890FF"}}):a.a.createElement(v.a,{style:{color:I&&"#1890FF"},key:"add-user",onClick:function(){I||M.current.emit("sendAddFriend",{idSender:A._id,idReceiver:w},(function(e){s.a.error(e,4)}))}}))]},a.a.createElement(F,{title:a.a.createElement("p",null,k.displayName),description:a.a.createElement("div",null,a.a.createElement(u.a,{direction:"vertical"},""!==k.district&&""!==k.provinceOrCity&&a.a.createElement(f.a,null,a.a.createElement(p.a,null)," ","".concat(k.district.label," - ").concat(k.provinceOrCity.label)),""!==k.phonenumber&&a.a.createElement(f.a,null,a.a.createElement(g.a,null)," ","+84".concat(k.phonenumber)),a.a.createElement(f.a,null,a.a.createElement(U.a,null)," ","".concat(k.friends.length," ").concat(Object(m.formatMessage)({id:"home.modalViewUser.friends"})))))})))}r.d(t,"a",(function(){return A}))},907:function(e,t,r){},908:function(e,t,r){}}]);