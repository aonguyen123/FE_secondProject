(window["webpackJsonpreact-antd"]=window["webpackJsonpreact-antd"]||[]).push([[24],{1154:function(e,t,n){},1155:function(e,t,n){},1281:function(e,t,n){"use strict";n.r(t);var a=n(233),c=n(0),r=n.n(c),i=n(38),u=n(827),o=n(783),l=n(116),s=n(61),f=n(23),m=n(986),d=n(1263),b=n(56),v=n(15),E=n(232),h=n(122);n(1154);function p(e){var t=e.photo,n=e.updatePhotoURL,i=Object(c.useState)(!1),u=Object(a.a)(i,2),o=u[0],p=u[1],g=Object(c.useState)([]),j=Object(a.a)(g,2),O=j[0],w=j[1],R=Object(c.useRef)(null),y=Object(c.useRef)(!1);Object(c.useEffect)((function(){return function(){null!==R.current&&(y.current=!0,R.current.cancel())}}),[]);var z={beforeUpload:function(e){if(!v.a.uploadCommon.beforeUpload(e))return!1}},L=function(e){p(!1),n(e)};return r.a.createElement("div",null,r.a.createElement(l.a,{type:"flex",justify:"center"},r.a.createElement(s.a,null,r.a.createElement("div",{className:"avatar_title"},"Avatar"),r.a.createElement("div",{className:"avatar-setting"},r.a.createElement("img",{src:t,alt:"avatar"})),r.a.createElement(d.a,Object.assign({},z,{customRequest:function(e){p(!0);var t=e.onSuccess,n=e.onError,a=e.file,c=e.onProgress;R.current=h.a.firebase.storage.ref("/images/".concat(a.name)).put(a),E.p.customRequest(t,n,a,c,R.current,L)},disabled:o,fileList:O,onChange:function(e){var t=e.fileList;t.length>1&&t.splice(0,1),y.current||w(Object(f.a)(t))},showUploadList:{showRemoveIcon:!1}}),r.a.createElement("div",{className:"button_view-setting"},r.a.createElement(b.a,null,r.a.createElement(m.a,null),"Change avatar"))))))}var g=n(4),j=Object(c.lazy)((function(){return Promise.all([n.e(1),n.e(2),n.e(26)]).then(n.bind(null,1285))}));function O(e){var t=e.userInfo,n=Object(i.c)((function(e){return e.uiReducer.loadingButton})),a=Object(i.b)();return r.a.createElement(l.a,{gutter:[16,16]},r.a.createElement(s.a,{xl:6,lg:6,md:6,sm:24,xs:24},r.a.createElement(p,{photo:t.photoURL,updatePhotoURL:function(e){a(g.a.userActions.updatePhotoURL(e.url,t._id))}})),r.a.createElement(s.a,{xl:18,lg:18,md:18,sm:24,xs:24},r.a.createElement(c.Suspense,{fallback:r.a.createElement(E.h,{size:"small"})},r.a.createElement(j,{userInfo:t,updateProfile:function(e){a(g.a.userActions.updateProfile(e,t._id))},loadingButton:n}))))}var w=Object(c.lazy)((function(){return Promise.all([n.e(1),n.e(2),n.e(3),n.e(31)]).then(n.bind(null,1283))}));function R(){var e=Object(i.c)((function(e){return e.userReducer.userInfo})),t=Object(i.c)((function(e){return e.uiReducer.loadingButton})),n=Object(i.c)((function(e){return e.uiReducer.visible})),a=Object(i.b)();return r.a.createElement(l.a,null,r.a.createElement(s.a,{xl:24,lg:24,md:24,sm:24,xs:24},r.a.createElement(c.Suspense,{fallback:r.a.createElement(E.h,{size:"small"})},r.a.createElement(w,{updatePass:function(t){a(g.a.userActions.updatePassword(t.new_password,t.current_password,e._id))},loadingButton:t,visible:n,showModal:function(){a(g.a.uiActions.changeVisible(!0))},closeModal:function(){a(g.a.uiActions.changeVisible(!1))}}))))}n(1155);var y=o.a.Item,z={base:"Basic Settings",security:"Security Settings",notification:"Message Notification"};function L(){var e=Object(c.useState)("base"),t=Object(a.a)(e,2),n=t[0],l=t[1],s=Object(c.useState)("horizontal"),f=Object(a.a)(s,2),m=f[0],d=f[1],b=Object(i.c)((function(e){return e.userReducer.userInfo})),v=void 0,E=function(){v&&requestAnimationFrame((function(){if(v){var e="horizontal";window.innerWidth<641&&(e="inline"),d(e)}}))};return Object(c.useEffect)((function(){return window.addEventListener("resize",E),E(),function(){window.removeEventListener("resize",E)}})),r.a.createElement(u.a,null,r.a.createElement("div",{className:"main",ref:function(e){return v=e}},r.a.createElement("div",{className:"leftMenu-account"},r.a.createElement(o.a,{mode:m,selectedKeys:[n],onClick:function(e){return function(e){l(e)}(e.key)}},Object.keys(z).map((function(e){return r.a.createElement(y,{key:e},z[e])})))),r.a.createElement("div",{className:"right-account"},r.a.createElement("div",{className:"title"},z[n]),function(){switch(n){case"base":return r.a.createElement(O,{userInfo:b});case"security":return r.a.createElement(R,null);case"notification":return r.a.createElement("h1",null,"notification")}return null}())))}n.d(t,"default",(function(){return L}))},986:function(e,t,n){"use strict";var a=n(0),c=n.n(a),r={name:"upload",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]}},i=n(17),u=function(e,t){return c.a.createElement(i.a,Object.assign({},e,{ref:t,icon:r}))};u.displayName="UploadOutlined";t.a=c.a.forwardRef(u)}}]);