(window["webpackJsonpreact-antd"]=window["webpackJsonpreact-antd"]||[]).push([[26],{1037:function(e,a,t){},1233:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(64),s=t(829),o=t(831),i=t(770),c=t(1247),u=t(822),m=t(7),d=t(6),p=t.n(d),g=t(17),f=t(68),h=(t(10),t(67));t(762),t(1227),t(76);var E,w=t(43),b=t(1218),v=t(53),y=t(775),P=t(823),k=t(75),F=t(773),j=t(949),x=t(1248),q=t(29),O=t(88),R=t(219);t(1037);function I(e){var a=e.loadingButton,t=e.onFinish,l=Object(n.useState)(!1),s=Object(h.a)(l,2),o=s[0],i=s[1],u=b.a.useForm(),m=Object(h.a)(u,1)[0],d=r.a.createElement(v.a,{style:{width:"100%"},icon:r.a.createElement(j.a,null),disabled:o},"Click to upload"),I=function(){i(!1)},N=function(){var e=Object(f.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.validateFields();case 2:"uploading"===(a=e.sent).upload[0].status?y.a.warning("Uploading photo, plase wait !!!",3):t(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(b.a,{layout:"vertical",name:"register",form:m,onFinish:N,scrollToFirstError:!0,initialValues:{gender:"Nam"}},r.a.createElement(b.a.Item,{name:"email",label:"E-mail",hasFeedback:!0,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(P.a,null)),r.a.createElement(b.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"},{min:6,message:"Password must be more than 6 characters"}],hasFeedback:!0},r.a.createElement(P.a.Password,null)),r.a.createElement(b.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(P.a.Password,null)),r.a.createElement(b.a.Item,{hasFeedback:!0,name:"nickname",label:r.a.createElement("span",null,"Nickname\xa0",r.a.createElement(k.a,{title:"What do you want others to call you?"},r.a.createElement(x.a,null))),rules:[{required:!0,message:"Please input your nickname!"},{whitespace:!0,message:"Nickname does not whitespace"},{max:15,message:"Nickname cannot exceed 15 characters"},{min:5,message:"Nickname at least 5 character"},{validator:function(e,a){return a&&(a=(a=a.trim()).replace(/\s+/g,"")).length<5?Promise.reject("Nickname of at least 5 characters"):Promise.resolve()}}]},r.a.createElement(P.a,null)),r.a.createElement(b.a.Item,{label:"Upload avatar",name:"upload",valuePropName:"fileList",getValueFromEvent:function(e){e.file;var a=e.fileList,t=[],n=Object(g.a)(a).filter((function(e){return q.a.uploadCommon.filterFileUpload(e)}));return 0!==n.length&&t.push(n[n.length-1]),t},rules:[{required:!0,message:"Photo is required"}]},r.a.createElement(F.a,Object.assign({},R.o.propsUpload(),{customRequest:function(e){i((function(e){return!e}));var a=e.onSuccess,t=e.onError,n=e.file,r=e.onProgress;E=O.a.firebase.storage.ref("/images/".concat(n.name)).put(n),R.o.customRequest(a,t,n,r,E,I)},onRemove:function(e){i(!1),R.o.onRemove(e,E)}}),d)),r.a.createElement(b.a.Item,null,"You have a account, login here ",r.a.createElement(w.a,{to:"/login"},"login")),r.a.createElement(b.a.Item,null,r.a.createElement(v.a,{type:"primary",htmlType:"submit",icon:r.a.createElement(c.a,null),loading:a},"Register")))}function N(e){var a=e.history,t=Object(l.b)(),n=Object(l.c)((function(e){return e.uiReducer.loadingButton}));return r.a.createElement(u.a,null,r.a.createElement(s.a,{justify:"center"},r.a.createElement(o.a,{xxl:9,xl:9,lg:10,md:10,sm:10,xs:24},r.a.createElement(i.a,null,r.a.createElement(c.a,{style:{marginRight:"8px",color:"#08c"}}),r.a.createElement("span",{style:{color:"#08c"}},"Register")),r.a.createElement(s.a,{justify:"center",align:"middle"},r.a.createElement(o.a,{xl:24,lg:24,md:24,sm:24,xs:24},r.a.createElement(I,{loadingButton:n,onFinish:function(e){e.upload=e.upload[0].response.url,t(m.a.authenticatedActions.register(e,a))}}))))))}t.d(a,"default",(function(){return N}))}}]);