(window["webpackJsonpreact-antd"]=window["webpackJsonpreact-antd"]||[]).push([[22],{1291:function(e,n,t){"use strict";t.r(n);var r=t(233),a=t(0),c=t.n(a),i=t(38),s=t(865),l=t(867),u=t(4);function d(){var e=Object(a.useState)(""),n=Object(r.a)(e,2),t=n[0],d=n[1],o=Object(i.c)((function(e){return e.uiReducer.loadingData})),f=Object(i.c)((function(e){return e.userReducer.searchUsers})),m=Object(i.c)((function(e){return e.userReducer.userInfo})),E=Object(i.c)((function(e){return e.uiReducer.visible})),h=Object(i.b)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{searchUser:function(e){h(u.a.userActions.searchUser(e,m._id))},showCardUser:function(e){d(e),h(u.a.uiActions.changeVisible(!0))},loadingData:o,searchUsers:f,friends:m.friends,searchEmpty:function(){h(u.a.userActions.searchUserEmpty())}}),E&&c.a.createElement(l.a,{visible:E,onCancelFlowUser:function(){h(u.a.uiActions.changeVisible(!1))},idFriend:t,userCurrent:m}))}t.d(n,"default",(function(){return d}))},865:function(e,n,t){"use strict";var r=t(0),a=t.n(r),c=t(987),i=t(792),s=t(866).a.Search;function l(e){var n=e.searchUser,t=e.loadingData,r=e.searchEmpty;return a.a.createElement(s,{placeholder:"Search here",loading:t,onSearch:function(e,t){e&&n(e)},onChange:function(e){e.target.value||r()}})}var u=t(1289),d=t(34),o=t(785),f=t(232),m=t(783);function E(e,n){return a.a.createElement(m.a,null,a.a.createElement(m.a.Item,{onClick:function(){return e(n)}},"View detail"))}var h=u.b.Item;function b(e){var n=e.friend,t=e.showCardUser,r=e.friends;return a.a.createElement(h,{key:n._id,extra:a.a.createElement(f.c,{key:"more",menu:E(t,n._id)})},a.a.createElement(h.Meta,{avatar:a.a.createElement(o.a,{src:n.photoURL}),title:a.a.createElement(d.a,{to:"/profile/".concat(n._id)},n.displayName),description:-1!==r.findIndex((function(e){return e.idUser._id===n._id}))&&"Followed"}))}t(895);function p(e){var n=e.searchUsers,t=e.showCardUser,r=e.friends;return a.a.createElement("div",{className:"list-friend-container"},a.a.createElement(u.b,{dataSource:0===n.length?r:n,renderItem:function(e){return a.a.createElement(b,{friend:0===n.length?e.idUser:e,showCardUser:t,friends:r})}}))}function v(e){var n=e.searchUser,t=e.loadingData,r=e.searchUsers,s=e.searchEmpty,u=e.showCardUser,d=e.friends;return a.a.createElement(c.a,null,a.a.createElement(i.a,{title:"Friends",size:"small"},a.a.createElement(l,{searchUser:n,loadingData:t,searchEmpty:s}),a.a.createElement(p,{searchUsers:r,showCardUser:u,friends:d})))}t.d(n,"a",(function(){return v}))},867:function(e,n,t){"use strict";var r=t(0),a=t.n(r),c=t(34),i=t(792),s=t(791),l=t(782),u=t(73),d=t(1146),o=t(794),f=t(38),m=t(797),E=t(1266),h=t(807),b=t(1265),p=t(983),v=t(985),U=t(252),y=t.n(U),w=t(232),F=t(4),C=t(237),g=(t(896),i.a.Meta);function O(e){var n=e.visible,t=e.onCancelFlowUser,U=e.idFriend,O=e.userCurrent,j=Object(f.b)(),A=Object(f.c)((function(e){return e.userReducer.userById})),_=Object(f.c)((function(e){return e.userReducer.statusAddFriend})),k=Object(r.useContext)(C.a).socketRef;Object(r.useEffect)((function(){return j(F.a.userActions.fetchUserById(U,O._id)),function(){j(F.a.userActions.cleanUserById())}}),[j,U,O._id]),Object(r.useEffect)((function(){var e=k.current;return e.on("sendAddFriendSuccess",(function(e){j(F.a.userActions.sendAddFriendSuccess(e))})),function(){e.off("sendAddFriendSuccess")}}),[k,j]);return a.a.createElement(s.a,{visible:n,onCancel:t,footer:null,width:350,centered:!1},0===Object.keys(A).length?a.a.createElement(w.d,null):a.a.createElement(i.a,{bordered:!1,cover:a.a.createElement(y.a,{src:A.photoURL,alt:"avatar",style:{height:"200px",objectFit:"cover"},loader:a.a.createElement(l.a,{indicator:a.a.createElement(m.a,{spin:!0})})}),actions:[a.a.createElement(u.a,{title:"View profile"},a.a.createElement(c.a,{to:"/profile/".concat(U)},a.a.createElement(E.a,{key:"view-profile"}))),a.a.createElement(u.a,{title:-1!==O.friends.findIndex((function(e){return e.idUser._id===U}))?"Friend":"Add friend"},-1!==O.friends.findIndex((function(e){return e.idUser._id===U}))?a.a.createElement(h.a,{style:{color:"#1890FF"}}):a.a.createElement(b.a,{style:{color:_&&"#1890FF"},key:"add-user",onClick:function(){_||k.current.emit("sendAddFriend",{idSender:O._id,idReceiver:U})}}))]},a.a.createElement(g,{title:a.a.createElement("p",null,A.displayName),description:a.a.createElement("div",null,a.a.createElement(d.a,{direction:"vertical"},""!==A.district&&""!==A.provinceOrCity&&a.a.createElement(o.a,null,a.a.createElement(p.a,null)," ","".concat(A.district.label," - ").concat(A.provinceOrCity.label)),""!==A.phonenumber&&a.a.createElement(o.a,null,a.a.createElement(v.a,null)," ","+84".concat(A.phonenumber)),a.a.createElement(o.a,null,a.a.createElement(h.a,null)," ","".concat(A.friends.length," friends"))))})))}t.d(n,"a",(function(){return O}))},895:function(e,n,t){},896:function(e,n,t){}}]);