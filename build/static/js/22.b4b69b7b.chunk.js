(window["webpackJsonpreact-antd"]=window["webpackJsonpreact-antd"]||[]).push([[22],{1302:function(e,t,n){"use strict";n.r(t);var r=n(233),a=n(0),c=n.n(a),i=n(38),s=n(879),o=n(881),l=n(5);function d(){var e=Object(a.useState)(""),t=Object(r.a)(e,2),n=t[0],d=t[1],u=Object(i.c)((function(e){return e.uiReducer.loadingData})),f=Object(i.c)((function(e){return e.userReducer.searchUsers})),m=Object(i.c)((function(e){return e.userReducer.userInfo})),h=Object(i.c)((function(e){return e.uiReducer.visible})),E=Object(i.b)();return c.a.createElement(c.a.Fragment,null,c.a.createElement(s.a,{searchUser:function(e){E(l.a.userActions.searchUser(e,m._id))},showCardUser:function(e){d(e),E(l.a.uiActions.changeVisible(!0))},loadingData:u,searchUsers:f,friends:m.friends,searchEmpty:function(){E(l.a.userActions.searchUserEmpty())}}),h&&c.a.createElement(o.a,{visible:h,onCancelFlowUser:function(){E(l.a.uiActions.changeVisible(!1))},idFriend:n,userCurrent:m}))}n.d(t,"default",(function(){return d}))},879:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(1001),i=n(806),s=n(13),o=n(880).a.Search;function l(e){var t=e.searchUser,n=e.loadingData,r=e.searchEmpty;return a.a.createElement(o,{placeholder:Object(s.formatMessage)({id:"home.friends.searchPlacehoder"}),loading:n,onSearch:function(e,n){e&&t(e)},onChange:function(e){e.target.value||r()}})}var d=n(1301),u=n(34),f=n(799),m=n(232),h=n(797);function E(e,t){return a.a.createElement(h.a,null,a.a.createElement(h.a.Item,{onClick:function(){return e(t)}},Object(s.formatMessage)({id:"home.friends.viewDetail"})))}var b=d.b.Item;function U(e){var t=e.friend,n=e.showCardUser,r=e.friends;return a.a.createElement(b,{key:t._id,extra:a.a.createElement(m.c,{key:"more",menu:E(n,t._id)})},a.a.createElement(b.Meta,{avatar:a.a.createElement(f.a,{src:t.photoURL}),title:a.a.createElement(u.a,{to:"/profile/".concat(t._id)},t.displayName),description:-1!==r.findIndex((function(e){return e.idUser._id===t._id}))&&Object(s.formatMessage)({id:"home.friends.follow"})}))}n(909);function v(e){var t=e.searchUsers,n=e.showCardUser,r=e.friends;return a.a.createElement("div",{className:"list-friend-container"},a.a.createElement(d.b,{dataSource:0===t.length?r:t,renderItem:function(e){return a.a.createElement(U,{friend:0===t.length?e.idUser:e,showCardUser:n,friends:r})}}))}function p(e){var t=e.searchUser,n=e.loadingData,r=e.searchUsers,o=e.searchEmpty,d=e.showCardUser,u=e.friends;return a.a.createElement(c.a,null,a.a.createElement(i.a,{title:Object(s.formatMessage)({id:"home.friends.title"}),size:"small"},a.a.createElement(l,{searchUser:t,loadingData:n,searchEmpty:o}),a.a.createElement(v,{searchUsers:r,showCardUser:d,friends:u})))}n.d(t,"a",(function(){return p}))},881:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(34),i=n(806),s=n(807),o=n(805),l=n(796),d=n(73),u=n(1160),f=n(808),m=n(13),h=n(38),E=n(811),b=n(1280),U=n(821),v=n(1279),p=n(997),g=n(996),w=n(252),O=n.n(w),j=n(232),y=n(5),C=n(237),F=(n(910),i.a.Meta);function A(e){var t=e.visible,n=e.onCancelFlowUser,w=e.idFriend,A=e.userCurrent,_=Object(h.b)(),k=Object(h.c)((function(e){return e.userReducer.userById})),I=Object(h.c)((function(e){return e.userReducer.statusAddFriend})),M=Object(r.useContext)(C.a).socketRef;Object(r.useEffect)((function(){return _(y.a.userActions.fetchUserById(w,A._id)),function(){_(y.a.userActions.cleanUserById())}}),[_,w,A._id]),Object(r.useEffect)((function(){var e=M.current;return e.on("sendAddFriendSuccess",(function(e){_(y.a.userActions.sendAddFriendSuccess(e))})),function(){e.off("sendAddFriendSuccess")}}),[M,_]);return a.a.createElement(o.a,{visible:t,onCancel:n,footer:null,width:350,centered:!1},0===Object.keys(k).length?a.a.createElement(j.d,null):a.a.createElement(i.a,{bordered:!1,cover:a.a.createElement(O.a,{src:k.photoURL,alt:"avatar",style:{height:"200px",objectFit:"cover"},loader:a.a.createElement(l.a,{indicator:a.a.createElement(E.a,{spin:!0})})}),actions:[a.a.createElement(d.a,{title:Object(m.formatMessage)({id:"home.modalViewUser.viewProfile"})},a.a.createElement(c.a,{to:"/profile/".concat(w)},a.a.createElement(b.a,{key:"view-profile"}))),a.a.createElement(d.a,{title:-1!==A.friends.findIndex((function(e){return e.idUser._id===w}))?Object(m.formatMessage)({id:"home.modalViewUser.follow"}):Object(m.formatMessage)({id:"home.modalViewUser.addFriend"})},-1!==A.friends.findIndex((function(e){return e.idUser._id===w}))?a.a.createElement(U.a,{style:{color:"#1890FF"}}):a.a.createElement(v.a,{style:{color:I&&"#1890FF"},key:"add-user",onClick:function(){I||M.current.emit("sendAddFriend",{idSender:A._id,idReceiver:w},(function(e){s.a.error(e,4)}))}}))]},a.a.createElement(F,{title:a.a.createElement("p",null,k.displayName),description:a.a.createElement("div",null,a.a.createElement(u.a,{direction:"vertical"},""!==k.district&&""!==k.provinceOrCity&&a.a.createElement(f.a,null,a.a.createElement(p.a,null)," ","".concat(k.district.label," - ").concat(k.provinceOrCity.label)),""!==k.phonenumber&&a.a.createElement(f.a,null,a.a.createElement(g.a,null)," ","+84".concat(k.phonenumber)),a.a.createElement(f.a,null,a.a.createElement(U.a,null)," ","".concat(k.friends.length," ").concat(Object(m.formatMessage)({id:"home.modalViewUser.friends"})))))})))}n.d(t,"a",(function(){return A}))},909:function(e,t,n){},910:function(e,t,n){}}]);