{"version":3,"sources":["actions/authenticated.action.js","actions/index.js","views/About/About.js","views/About/index.js"],"names":["login","email","password","history","dispatch","callAPI","then","res","type","LOGIN","payload","data","setAuthToken","accessToken","setToken","push","catch","err","GET_ERRORS","response","getInfo","a","getAccessToken","GET_INFO","removeToken","connect","state","info","auth","props","useEffect"],"mappings":"8KAIaA,EAAQ,SAACC,EAAOC,EAAUC,GAAlB,OAA8B,SAAAC,GAC/CC,YAAQ,cAAe,OAAQ,CAAEJ,QAAOC,aACnCI,MAAK,SAAAC,GACFH,EAAS,CACLI,KAAMC,IACNC,QAASH,EAAII,OAEjBC,YAAaL,EAAII,KAAKE,aACtBC,YAASP,EAAII,MACbR,EAAQY,KAAK,QAEhBC,OAAM,SAAAC,GACHb,EAAS,CACLI,KAAMU,IACNR,QAASO,EAAIE,SAASR,YAKzBS,EAAU,SAAAjB,GAAO,8CAAI,WAAMC,GAAN,SAAAiB,EAAA,sEACTC,YAAenB,GADN,eAG1BE,YAAQ,0CACHC,MAAK,SAAAC,GACFH,EAAS,CACLI,KAAMe,IACNb,QAASH,EAAII,UAGpBK,OAAM,SAAAC,GACHb,EAAS,CACLI,KAAMU,IACNR,QAASO,EAAIE,SAASR,OAE1Ba,cACArB,EAAQY,KAAK,yBAhBK,2CAAJ,uDCvB9B,qE,uFCoBA,IAGeU,eAHS,SAAAC,GAAK,MAAK,CAC9BC,KAAMD,EAAME,QAEwB,CAACR,aAA1BK,EAlBf,SAAeI,GAAQ,IACXT,EAAqBS,EAArBT,QAASjB,EAAY0B,EAAZ1B,QAMjB,OAJA2B,qBAAU,WACNV,EAAQjB,KACT,CAACiB,EAASjB,IAGT,oCACI,kBAAC,IAAD,MACA,yCCfZ","file":"static/js/12.a2751ebb.chunk.js","sourcesContent":["import { LOGIN, GET_INFO, GET_ERRORS } from '../constants/types';\r\nimport { setAuthToken, setToken, removeToken } from './../config';\r\nimport { callAPI, getAccessToken } from '../common';\r\n\r\nexport const login = (email, password, history) => dispatch => {\r\n    callAPI('/auth/login', 'POST', { email, password })\r\n        .then(res => {\r\n            dispatch({\r\n                type: LOGIN,\r\n                payload: res.data\r\n            });\r\n            setAuthToken(res.data.accessToken);\r\n            setToken(res.data);\r\n            history.push('/');\r\n        })\r\n        .catch(err => {\r\n            dispatch({\r\n                type: GET_ERRORS,\r\n                payload: err.response.data\r\n            });\r\n        });\r\n};\r\n\r\nexport const getInfo = history => async dispatch => {\r\n    const result = await getAccessToken(history);\r\n    if (result) {\r\n        callAPI('/user/greet-me-protected?name=aonguyen')\r\n            .then(res => {\r\n                dispatch({\r\n                    type: GET_INFO,\r\n                    payload: res.data\r\n                });\r\n            })\r\n            .catch(err => {\r\n                dispatch({\r\n                    type: GET_ERRORS,\r\n                    payload: err.response.data\r\n                });\r\n                removeToken();\r\n                history.push('/not-authenticated');\r\n            });\r\n    }\r\n};\r\n","export { login, getInfo } from './authenticated.action';","import React, { useEffect } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { DatePicker } from 'antd'\r\nimport { getInfo } from './../../actions';\r\n\r\nfunction About(props) {\r\n    const { getInfo, history } = props;\r\n\r\n    useEffect(() => {\r\n        getInfo(history);\r\n    }, [getInfo, history]);\r\n\r\n    return (\r\n        <>\r\n            <DatePicker />\r\n            <h1>about</h1>\r\n        </>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n    info: state.auth\r\n});\r\nexport default connect(mapStateToProps, {getInfo})(About);","export { default } from './About';"],"sourceRoot":""}