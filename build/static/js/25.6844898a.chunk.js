(window["webpackJsonpreact-antd"]=window["webpackJsonpreact-antd"]||[]).push([[25],{1015:function(e,t){},1018:function(e,t,n){},1287:function(e,t,n){"use strict";n.r(t);var c=n(233),r=n(0),a=n.n(r),u=n(38),o=n(1270),i=n(987),l=n(1271),s=n(991),d=n.n(s),f=n(232),b=n(4),E=n(237),m=n(265),v=(n(1018),o.a.Header),p=o.a.Content,h=o.a.Footer,j=o.a.Sider;var O=function(e){var t=e.children,n=Object(u.c)((function(e){return e.userReducer.userInfo})),s=Object(r.useState)(!1),O=Object(c.a)(s,2),k=O[0],A=O[1],w=Object(u.c)((function(e){return e.uiReducer.isShowAnimate})),S=Object(u.c)((function(e){return e.uiReducer.typeAnimate})),g=Object(r.useRef)(),x=Object(u.b)();Object(r.useEffect)((function(){x(b.a.eventsActions.fetchEvents(n._id))}),[x,n._id]),Object(r.useEffect)((function(){var e=m.b;return g.current=d()(e),g.current.emit("subscribe",n._id),function(){g.current.close()}}),[n._id]),Object(r.useEffect)((function(){return g.current.on("notice",(function(e){var t=e.text;x(b.a.chatsActions.getStatusChat(t))})),g.current.on("subscribe",(function(e){console.log(e)})),g.current.on("sendEvent",(function(e){var t=e.newEvent;x(b.a.eventsActions.sendEventAddFriend(t))})),g.current.on("addFriend",(function(e){var t=e.friendSender;x(b.a.userActions.addFriendSuccess(t))})),function(){g.current.off("notice"),g.current.off("sendEvent"),g.current.off("subscribe"),g.current.off("addFriendSuccess"),g.current.off("addFriend")}}),[x]);var F=Object(r.useMemo)((function(){return a.a.createElement(E.a.Provider,{value:{socketRef:g}},a.a.createElement(f.f,null))}),[]);return a.a.createElement(o.a,null,a.a.createElement(v,null,F),a.a.createElement(o.a,null,a.a.createElement(j,{theme:k?"dark":"light",breakpoint:"lg",collapsedWidth:"0",onBreakpoint:function(e){A(e)},style:k?{position:"fixed",zIndex:"99"}:{padding:"24px 14px"}},a.a.createElement(i.a,null,a.a.createElement(f.o,{collapsedWidth:k}))),a.a.createElement(p,null,a.a.createElement("div",{className:"content-layout-basic"},a.a.createElement(r.Suspense,{fallback:a.a.createElement(f.h,null)},a.a.createElement(E.a.Provider,{value:{socketRef:g}},t))))),a.a.createElement(h,{style:{backgroundColor:"#000",textAlign:"center"}},a.a.createElement(f.e,null)),a.a.createElement(l.a,null),w&&a.a.createElement(f.a,{typeAnimate:S}))};n.d(t,"default",(function(){return O}))}}]);