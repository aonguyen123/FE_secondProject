(window["webpackJsonpreact-antd"]=window["webpackJsonpreact-antd"]||[]).push([[25],{1228:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(62),o=t(789),s=t(790),c=t(724),i=t(1236),u=t(786),m=t(9),d=t(7),p=t.n(d),f=t(19),g=t(67),h=(t(11),t(54));t(718),t(1222),t(74);var E=t(38),w=t(1226),b=t(64),v=t(730),y=t(773),P=t(99),k=t(728),F=t(1215),x=t(1237),j=t(42),q=t(123);t(973);function I(e){var a,t=e.loadingButton,n=e.onFinish,l=w.a.useForm(),o=Object(h.a)(l,1)[0],s=r.a.createElement(b.a,{style:{width:"100%"},icon:r.a.createElement(F.a,null)},"Click to upload"),c={beforeUpload:function(e){if(!j.a.uploadCommon.beforeUpload(e))return!1},listType:"picture"},u=function(){var e=Object(g.a)(p.a.mark((function e(){var a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.validateFields();case 2:"uploading"===(a=e.sent).upload[0].status?v.a.warning("Uploading photo, plase wait !!!",3):n(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(w.a,{layout:"vertical",name:"register",form:o,onFinish:u,scrollToFirstError:!0,initialValues:{gender:"Nam"}},r.a.createElement(w.a.Item,{name:"email",label:"E-mail",hasFeedback:!0,rules:[{type:"email",message:"The input is not valid E-mail!"},{required:!0,message:"Please input your E-mail!"}]},r.a.createElement(y.a,null)),r.a.createElement(w.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"},{min:6,message:"Password must be more than 6 characters"}],hasFeedback:!0},r.a.createElement(y.a.Password,null)),r.a.createElement(w.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(y.a.Password,null)),r.a.createElement(w.a.Item,{hasFeedback:!0,name:"nickname",label:r.a.createElement("span",null,"Nickname\xa0",r.a.createElement(P.a,{title:"What do you want others to call you?"},r.a.createElement(x.a,null))),rules:[{required:!0,message:"Please input your nickname!"},{whitespace:!0,message:"Nickname does not whitespace"},{max:15,message:"Nickname cannot exceed 15 characters"},{validator:function(e,a){return a&&(a=(a=a.trim()).replace(/\s+/g,"")).length<5?Promise.reject("Nickname of at least 5 characters"):Promise.resolve()}}]},r.a.createElement(y.a,null)),r.a.createElement(w.a.Item,{label:"Upload avatar",name:"upload",valuePropName:"fileList",getValueFromEvent:function(e){e.file;var a=e.fileList,t=[],n=Object(f.a)(a).filter((function(e){return j.a.uploadCommon.filterFileUpload(e)}));return 0!==n.length&&t.push(n[n.length-1]),t},rules:[{required:!0,message:"Photo is required"}]},r.a.createElement(k.a,Object.assign({},c,{customRequest:function(e){void 0!==a&&a.cancel();var t=v.a.loading("Action uploading photo in progress...",0),n=e.onSuccess,r=e.onError,l=e.file,o=e.onProgress;(a=q.a.firebase.storage.ref("/images/".concat(l.name)).put(l)).on("state_changed",(function(e){var a=e.bytesTransferred/e.totalBytes*100;o({percent:a})}),(function(e){r(e),t(),v.a.success("Cancel upload photo success",4)}),(function(){q.a.firebase.storage.ref("images").child(l.name).getDownloadURL().then((function(e){var a={name:l.name,status:"done",url:e};n(a,l),t(),v.a.success("Upload photo success",4)}))}))},onRemove:function(e){a.cancel()}}),s)),r.a.createElement(w.a.Item,null,"You have a account, login here ",r.a.createElement(E.a,{to:"/login"},"login")),r.a.createElement(w.a.Item,null,r.a.createElement(b.a,{type:"primary",htmlType:"submit",icon:r.a.createElement(i.a,null),loading:t},"Register")))}function R(e){var a=e.history,t=Object(l.b)(),n=Object(l.c)((function(e){return e.uiReducer.loadingButton}));return r.a.createElement(u.a,null,r.a.createElement(o.a,{justify:"center"},r.a.createElement(s.a,{xxl:9,xl:9,lg:10,md:10,sm:10,xs:24},r.a.createElement(c.a,null,r.a.createElement(i.a,{style:{marginRight:"8px",color:"#08c"}}),r.a.createElement("span",{style:{color:"#08c"}},"Register")),r.a.createElement(o.a,{justify:"center",align:"middle"},r.a.createElement(s.a,{xl:24,lg:24,md:24,sm:24,xs:24},r.a.createElement(I,{loadingButton:n,onFinish:function(e){e.upload=e.upload[0].response.url,t(m.a.authenticatedActions.register(e,a))}}))))))}t.d(a,"default",(function(){return R}))},973:function(e,a,t){}}]);