(window["webpackJsonpreact-antd"]=window["webpackJsonpreact-antd"]||[]).push([[9],{744:function(e,a,t){"use strict";var n=t(160),r=t.n(n),o=t(205),c=t(101),l=t(23),s=t(135),i=function(e,a,t){return function(n){Object(s.a)("/auth/login","POST",{email:e,password:a}).then((function(e){n({type:c.c,payload:e.data}),Object(l.e)(e.data.accessToken),Object(l.f)(e.data),t.push("/")})).catch((function(e){n({type:c.a,payload:e.response.data})}))}},m=function(e){return function(){var a=Object(o.a)(r.a.mark((function a(t){return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(s.c)(e);case 2:a.sent&&Object(s.a)("/user/greet-me-protected?name=aonguyen").then((function(e){t({type:c.b,payload:e.data})})).catch((function(a){t({type:c.a,payload:a.response.data}),Object(l.d)(),e.push("/not-authenticated")}));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()};t.d(a,"b",(function(){return i})),t.d(a,"a",(function(){return m}))},827:function(e,a,t){},965:function(e,a,t){"use strict";t.r(a);var n=t(70),r=t(0),o=t.n(r),c=t(213),l=t(949),s=t(828),i=t(829),m=t(955),u=t(713),d=t(18),f=t(957),g=t(115),p=t(17),b=t(744),y=t(212);t(827);var E=m.a.create({name:"login"})((function(e){var a=e.auth,t=e.login,c=e.errors,b=e.history,E=e.form.getFieldDecorator,h=Object(r.useState)(!1),j=Object(n.a)(h,2),O=j[0],w=j[1],v=Object(r.useState)(""),M=Object(n.a)(v,2),k=M[0],F=M[1];Object(r.useEffect)((function(){F(c.message)}),[c]),Object(r.useEffect)((function(){w(!1)}),[a,c]),Object(r.useEffect)((function(){F("")}),[a]);var x=function(a,t,n){var r=e.form;t&&r.validateFields(["confirm"],{force:!0}),n()};return o.a.createElement(l.a,null,o.a.createElement(s.a,{type:"flex",justify:"center",align:"middle",style:{minHeight:"100vh"}},o.a.createElement(i.a,{lg:7,md:10,sm:15,xs:20},o.a.createElement(m.a,{onSubmit:function(a){a.preventDefault(),F(""),e.form.validateFields((function(e,a){e||(w(!0),t(a.email,a.password,b))}))},className:"login-form"},o.a.createElement(u.a,null,o.a.createElement(d.a,{className:"icon-login",type:"login"}),o.a.createElement("span",{style:{color:"#08c"}},o.a.createElement(p.FormattedMessage,{id:"login.login"}))),k&&o.a.createElement(y.a,{message:k,type:"error"}),o.a.createElement(m.a.Item,{hasFeedback:!0},E("email",{rules:[{type:"email",message:Object(p.formatMessage)({id:"login.validEmail"})},{required:!0,message:Object(p.formatMessage)({id:"login.requiredEmail"})},{validator:x}]})(o.a.createElement(f.a,{allowClear:!0,prefix:o.a.createElement(d.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:Object(p.formatMessage)({id:"login.email"})}))),o.a.createElement(m.a.Item,{hasFeedback:!0},E("password",{rules:[{required:!0,message:Object(p.formatMessage)({id:"login.requiredPassword"})},{validator:x},{min:6,message:Object(p.formatMessage)({id:"login.lengPassword"})}]})(o.a.createElement(f.a.Password,{prefix:o.a.createElement(d.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),allowClear:!0,type:"password",placeholder:Object(p.formatMessage)({id:"login.password"})}))),o.a.createElement(m.a.Item,null,o.a.createElement(g.a,{type:"primary",htmlType:"submit",className:"login-form-button",icon:"login",loading:O},o.a.createElement(p.FormattedMessage,{id:"login.login"})),o.a.createElement("div",null,o.a.createElement(p.FormattedMessage,{id:"login.loginMethod"}),o.a.createElement(g.a,{className:"btn-google",type:"dashed",shape:"circle",icon:"google",size:"default"}),o.a.createElement(g.a,{type:"dashed",shape:"circle",icon:"facebook",size:"default"}),o.a.createElement(g.a,{className:"btn-register",type:"link",href:"foo"},o.a.createElement(p.FormattedMessage,{id:"login.register"}))))))))})),h=Object(c.b)((function(e){return{auth:e.auth,errors:e.errors}}),{login:b.b})(E);t.d(a,"default",(function(){return h}))}}]);
//# sourceMappingURL=9.120ac21f.chunk.js.map