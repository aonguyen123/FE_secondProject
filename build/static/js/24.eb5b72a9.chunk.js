(window["webpackJsonpreact-antd"]=window["webpackJsonpreact-antd"]||[]).push([[24],{1122:function(e,t,a){},1123:function(e,t,a){},1264:function(e,t,a){"use strict";a.r(t);var n=a(50),c=a(0),r=a.n(c),l=a(56),i=a(753),u=a(679),o=a(108),s=a(60),m=a(18),f=a(966),d=a(965),E=a(54),b=a(31),v=a(208),h=a(112);a(1122);function g(e){var t=e.photo,a=e.updatePhotoURL,l=Object(c.useState)(!1),i=Object(n.a)(l,2),u=i[0],g=i[1],p=Object(c.useState)([]),j=Object(n.a)(p,2),O=j[0],w=j[1],y=Object(c.useRef)(null),R=Object(c.useRef)(!1);Object(c.useEffect)((function(){return function(){null!==y.current&&(R.current=!0,y.current.cancel())}}),[]);var z={beforeUpload:function(e){if(!b.a.uploadCommon.beforeUpload(e))return!1}},L=function(e){g(!1),a(e)};return r.a.createElement("div",null,r.a.createElement(o.a,{type:"flex",justify:"center"},r.a.createElement(s.a,null,r.a.createElement("div",{className:"avatar_title"},"Avatar"),r.a.createElement("div",{className:"avatar-setting"},r.a.createElement("img",{src:t,alt:"avatar"})),r.a.createElement(d.a,Object.assign({},z,{customRequest:function(e){g(!0);var t=e.onSuccess,a=e.onError,n=e.file,c=e.onProgress;y.current=h.a.firebase.storage.ref("/images/".concat(n.name)).put(n),v.m.customRequest(t,a,n,c,y.current,L)},disabled:u,fileList:O,onChange:function(e){var t=e.fileList;t.length>1&&t.splice(0,1),R.current||w(Object(m.a)(t))},showUploadList:{showRemoveIcon:!1}}),r.a.createElement("div",{className:"button_view-setting"},r.a.createElement(E.a,null,r.a.createElement(f.a,null),"Change avatar"))))))}var p=a(7),j=Object(c.lazy)((function(){return Promise.all([a.e(0),a.e(3),a.e(4),a.e(23)]).then(a.bind(null,1269))}));function O(e){var t=e.userInfo,a=Object(l.b)();console.log(t);return r.a.createElement(o.a,{gutter:[16,16]},r.a.createElement(s.a,{xl:6,lg:6,md:6,sm:24,xs:24},r.a.createElement(g,{photo:t.photoURL,updatePhotoURL:function(e){a(p.a.userActions.updatePhotoURL(e.url,t._id))}})),r.a.createElement(s.a,{xl:18,lg:18,md:18,sm:24,xs:24},r.a.createElement(c.Suspense,{fallback:r.a.createElement(v.g,{size:"small"})},r.a.createElement(j,{userInfo:t}))))}var w=Object(c.lazy)((function(){return Promise.all([a.e(0),a.e(3),a.e(4),a.e(7),a.e(31)]).then(a.bind(null,1267))}));function y(){return r.a.createElement(o.a,null,r.a.createElement(s.a,{xl:24,lg:24,md:24,sm:24,xs:24},r.a.createElement(c.Suspense,{fallback:r.a.createElement(v.g,{size:"small"})},r.a.createElement(w,null))))}a(1123);var R=u.a.Item,z={base:"Basic Settings",security:"Security Settings",notification:"Message Notification"};function L(){var e=Object(c.useState)("base"),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(c.useState)("horizontal"),m=Object(n.a)(s,2),f=m[0],d=m[1],E=Object(l.c)((function(e){return e.userReducer.userInfo})),b=void 0,v=function(){b&&requestAnimationFrame((function(){if(b){var e="horizontal";window.innerWidth<641&&(e="inline"),d(e)}}))};return Object(c.useEffect)((function(){return window.addEventListener("resize",v),v(),function(){window.removeEventListener("resize",v)}})),r.a.createElement(i.a,null,r.a.createElement("div",{className:"main",ref:function(e){return b=e}},r.a.createElement("div",{className:"leftMenu-account"},r.a.createElement(u.a,{mode:f,selectedKeys:[a],onClick:function(e){return function(e){o(e)}(e.key)}},Object.keys(z).map((function(e){return r.a.createElement(R,{key:e},z[e])})))),r.a.createElement("div",{className:"right-account"},r.a.createElement("div",{className:"title"},z[a]),function(){switch(a){case"base":return r.a.createElement(O,{userInfo:E});case"security":return r.a.createElement(y,null);case"notification":return r.a.createElement("h1",null,"notification")}return null}())))}a.d(t,"default",(function(){return L}))},966:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r={name:"upload",theme:"outlined",icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]}},l=a(26),i=function(e,t){return c.a.createElement(l.a,Object.assign({},e,{ref:t,icon:r}))};i.displayName="UploadOutlined";t.a=c.a.forwardRef(i)}}]);