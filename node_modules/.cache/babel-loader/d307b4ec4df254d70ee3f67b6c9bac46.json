{"ast":null,"code":"import { GET_CURRENT_PLACE, GET_ERRORS, GET_PROVINCES, GET_DISTRICT, FETCHING_DISTRICT, FETCHING_DISTRICT_SUCCESS } from './../constants/types';\nimport { callAPI, getAccessToken } from './../common';\nimport axios from 'axios';\n\nconst getCurrentPlace = (lat, lon, history) => async dispatch => {\n  const result = await getAccessToken(history);\n\n  if (result) {\n    callAPI(`/weather/get-geocode?latitude=${lat}&longitude=${lon}`).then(res => {\n      dispatch({\n        type: GET_CURRENT_PLACE,\n        payload: res.data\n      });\n    }).catch(err => {\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data\n      });\n    });\n  }\n};\n\nconst getProvinces = () => async dispatch => {\n  axios.get('https://dc.tintoc.net/app/api-customer/public/provinces?size=65').then(res => {\n    dispatch({\n      type: GET_PROVINCES,\n      payload: res.data\n    });\n  });\n};\n\nconst getDistricts = province => dispatch => {\n  dispatch({\n    type: FETCHING_DISTRICT\n  });\n  axios.get(`https://dc.tintoc.net/app/api-customer/public/districts?provinceId.equals=${province}`).then(res => {\n    dispatch({\n      type: GET_DISTRICT,\n      payload: res.data\n    });\n    dispatch({\n      type: FETCHING_DISTRICT_SUCCESS\n    });\n  });\n};\n\nexport default {\n  getCurrentPlace,\n  getProvinces,\n  getDistricts\n};","map":{"version":3,"sources":["E:/react-antd/frontend/src/actions/geocode.action.js"],"names":["GET_CURRENT_PLACE","GET_ERRORS","GET_PROVINCES","GET_DISTRICT","FETCHING_DISTRICT","FETCHING_DISTRICT_SUCCESS","callAPI","getAccessToken","axios","getCurrentPlace","lat","lon","history","dispatch","result","then","res","type","payload","data","catch","err","response","getProvinces","get","getDistricts","province"],"mappings":"AAAA,SACIA,iBADJ,EAEIC,UAFJ,EAGIC,aAHJ,EAIIC,YAJJ,EAKIC,iBALJ,EAMIC,yBANJ,QAOO,sBAPP;AAQA,SAASC,OAAT,EAAkBC,cAAlB,QAAwC,aAAxC;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,MAAMC,eAAe,GAAG,CAACC,GAAD,EAAMC,GAAN,EAAWC,OAAX,KAAuB,MAAMC,QAAN,IAAkB;AAC7D,QAAMC,MAAM,GAAG,MAAMP,cAAc,CAACK,OAAD,CAAnC;;AACA,MAAIE,MAAJ,EAAY;AACRR,IAAAA,OAAO,CAAE,iCAAgCI,GAAI,cAAaC,GAAI,EAAvD,CAAP,CACKI,IADL,CACUC,GAAG,IAAI;AACTH,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAEjB,iBADD;AAELkB,QAAAA,OAAO,EAAEF,GAAG,CAACG;AAFR,OAAD,CAAR;AAIH,KANL,EAOKC,KAPL,CAOWC,GAAG,IAAI;AACVR,MAAAA,QAAQ,CAAC;AACLI,QAAAA,IAAI,EAAEhB,UADD;AAELiB,QAAAA,OAAO,EAAEG,GAAG,CAACC,QAAJ,CAAaH;AAFjB,OAAD,CAAR;AAIH,KAZL;AAaH;AACJ,CAjBD;;AAkBA,MAAMI,YAAY,GAAG,MAAM,MAAMV,QAAN,IAAkB;AACzCL,EAAAA,KAAK,CACAgB,GADL,CACS,iEADT,EAEKT,IAFL,CAEUC,GAAG,IAAI;AACTH,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAEf,aADD;AAELgB,MAAAA,OAAO,EAAEF,GAAG,CAACG;AAFR,KAAD,CAAR;AAIH,GAPL;AAQH,CATD;;AAUA,MAAMM,YAAY,GAAIC,QAAD,IAAcb,QAAQ,IAAI;AAC3CA,EAAAA,QAAQ,CAAC;AACLI,IAAAA,IAAI,EAAEb;AADD,GAAD,CAAR;AAGAI,EAAAA,KAAK,CAACgB,GAAN,CAAW,6EAA4EE,QAAS,EAAhG,EACCX,IADD,CACMC,GAAG,IAAI;AACTH,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAEd,YADD;AAELe,MAAAA,OAAO,EAAEF,GAAG,CAACG;AAFR,KAAD,CAAR;AAIAN,IAAAA,QAAQ,CAAC;AACLI,MAAAA,IAAI,EAAEZ;AADD,KAAD,CAAR;AAGH,GATD;AAUH,CAdD;;AAgBA,eAAe;AACXI,EAAAA,eADW;AAEXc,EAAAA,YAFW;AAGXE,EAAAA;AAHW,CAAf","sourcesContent":["import {\r\n    GET_CURRENT_PLACE,\r\n    GET_ERRORS,\r\n    GET_PROVINCES,\r\n    GET_DISTRICT,\r\n    FETCHING_DISTRICT,\r\n    FETCHING_DISTRICT_SUCCESS\r\n} from './../constants/types';\r\nimport { callAPI, getAccessToken } from './../common';\r\nimport axios from 'axios';\r\n\r\nconst getCurrentPlace = (lat, lon, history) => async dispatch => {\r\n    const result = await getAccessToken(history);\r\n    if (result) {\r\n        callAPI(`/weather/get-geocode?latitude=${lat}&longitude=${lon}`)\r\n            .then(res => {\r\n                dispatch({\r\n                    type: GET_CURRENT_PLACE,\r\n                    payload: res.data\r\n                });\r\n            })\r\n            .catch(err => {\r\n                dispatch({\r\n                    type: GET_ERRORS,\r\n                    payload: err.response.data\r\n                });\r\n            });\r\n    }\r\n};\r\nconst getProvinces = () => async dispatch => {\r\n    axios\r\n        .get('https://dc.tintoc.net/app/api-customer/public/provinces?size=65')\r\n        .then(res => {\r\n            dispatch({\r\n                type: GET_PROVINCES,\r\n                payload: res.data\r\n            });\r\n        });\r\n};\r\nconst getDistricts = (province) => dispatch => {\r\n    dispatch({\r\n        type: FETCHING_DISTRICT\r\n    });\r\n    axios.get(`https://dc.tintoc.net/app/api-customer/public/districts?provinceId.equals=${province}`)\r\n    .then(res => {\r\n        dispatch({\r\n            type: GET_DISTRICT,\r\n            payload: res.data\r\n        });\r\n        dispatch({\r\n            type: FETCHING_DISTRICT_SUCCESS,\r\n        });\r\n    })\r\n}\r\n\r\nexport default {\r\n    getCurrentPlace,\r\n    getProvinces,\r\n    getDistricts\r\n};\r\n"]},"metadata":{},"sourceType":"module"}