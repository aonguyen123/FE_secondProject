{"ast":null,"code":"/*\n * React FitText\n * https://github.com/gianu/react-fittext\n *\n * A port of the jQuery plugin: http://github.com/davatron5000/FitText.js\n *\n * Released under the MIT license\n * http://gianu.mit-license.org\n */\n'use strict';\n\nvar React = require('react');\n\nvar ReactDOM = require('react-dom');\n\nvar ReactPropTypes = require('prop-types');\n\nvar createClass = require('create-react-class');\n\nmodule.exports = createClass({\n  displayName: 'ReactFitText',\n  propTypes: {\n    children: ReactPropTypes.element.isRequired,\n    compressor: ReactPropTypes.number,\n    minFontSize: ReactPropTypes.number,\n    maxFontSize: ReactPropTypes.number\n  },\n  getDefaultProps: function () {\n    return {\n      compressor: 1.0,\n      minFontSize: Number.NEGATIVE_INFINITY,\n      maxFontSize: Number.POSITIVE_INFINITY\n    };\n  },\n  componentDidMount: function () {\n    window.addEventListener(\"resize\", this._onBodyResize);\n\n    this._onBodyResize();\n  },\n  componentWillUnmount: function () {\n    window.removeEventListener(\"resize\", this._onBodyResize);\n  },\n  componentDidUpdate: function () {\n    this._onBodyResize();\n  },\n  _onBodyResize: function () {\n    var element = ReactDOM.findDOMNode(this);\n    var width = element.offsetWidth;\n    element.style.fontSize = Math.max(Math.min(width / (this.props.compressor * 10), parseFloat(this.props.maxFontSize)), parseFloat(this.props.minFontSize)) + 'px';\n  },\n  _renderChildren: function () {\n    var _this = this;\n\n    return React.Children.map(this.props.children, function (child) {\n      return React.cloneElement(child, {\n        ref: function ref(c) {\n          return _this._childRef = c;\n        }\n      });\n    });\n  },\n  render: function () {\n    return this._renderChildren()[0];\n  }\n});","map":null,"metadata":{},"sourceType":"script"}