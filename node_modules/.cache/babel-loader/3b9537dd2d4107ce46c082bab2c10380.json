{"ast":null,"code":"var _jsxFileName = \"E:\\\\web_ungdung\\\\frontend\\\\src\\\\views\\\\Home\\\\Components\\\\UploadImage\\\\UploadImage.js\";\nimport React, { useState } from 'react';\nimport { Upload, Icon, Modal } from 'antd';\n\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onload = () => resolve(reader.result);\n\n    reader.onerror = error => reject(error);\n  });\n}\n\nconst UploadImage = () => {\n  const [previewVisible, setPreviewVisible] = useState(false);\n  const [previewImage, setPreviewImage] = useState('');\n  const [fileList, setFileList] = useState([]);\n\n  const handleCancel = () => setPreviewVisible(false);\n\n  const handlePreview = async file => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n\n    setPreviewImage(file.url || file.preview);\n    setPreviewVisible(true);\n  };\n\n  const handleChange = ({\n    fileList\n  }) => {\n    console.log(fileList); //setFileList(fileList)\n  };\n\n  const uploadButton = React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    type: \"plus\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"ant-upload-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Upload\"));\n  return React.createElement(\"div\", {\n    className: \"clearfix\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    },\n    __self: this\n  }, React.createElement(Upload, {\n    action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\n    listType: \"picture-card\",\n    fileList: fileList,\n    onPreview: handlePreview,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, fileList.length >= 8 ? null : uploadButton), React.createElement(Modal, {\n    visible: previewVisible,\n    footer: null,\n    onCancel: handleCancel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"example\",\n    style: {\n      width: '100%'\n    },\n    src: previewImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  })));\n}; // class UploadImage extends React.Component {\n//     state = {\n//         previewVisible: false,\n//         previewImage: '',\n//         fileList: [\n//             {\n//                 uid: '-1',\n//                 name: 'image.png',\n//                 status: 'done',\n//                 url:\n//                     'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\n//             }\n//         ]\n//     };\n//     handleCancel = () => this.setState({ previewVisible: false });\n//     handlePreview = async file => {\n//         if (!file.url && !file.preview) {\n//             file.preview = await getBase64(file.originFileObj);\n//         }\n//         this.setState({\n//             previewImage: file.url || file.preview,\n//             previewVisible: true\n//         });\n//     };\n//     handleChange = ({ fileList }) => {\n//         console.log(fileList);\n//         this.setState({ fileList })\n//     };\n//     render() {\n//         const { previewVisible, previewImage, fileList } = this.state;\n//         const uploadButton = (\n//             <div>\n//                 <Icon type=\"plus\" />\n//                 <div className=\"ant-upload-text\">Upload</div>\n//             </div>\n//         );\n//         return (\n//             <div className=\"clearfix\">\n//                 <Upload\n//                     action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\n//                     listType=\"picture-card\"\n//                     fileList={fileList}\n//                     onPreview={this.handlePreview}\n//                     onChange={this.handleChange}\n//                 >\n//                     {fileList.length >= 8 ? null : uploadButton}\n//                 </Upload>\n//                 <Modal\n//                     visible={previewVisible}\n//                     footer={null}\n//                     onCancel={this.handleCancel}\n//                 >\n//                     <img\n//                         alt=\"example\"\n//                         style={{ width: '100%' }}\n//                         src={previewImage}\n//                     />\n//                 </Modal>\n//             </div>\n//         );\n//     }\n// }\n\n\nexport default UploadImage;","map":{"version":3,"sources":["E:/web_ungdung/frontend/src/views/Home/Components/UploadImage/UploadImage.js"],"names":["React","useState","Upload","Icon","Modal","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","UploadImage","previewVisible","setPreviewVisible","previewImage","setPreviewImage","fileList","setFileList","handleCancel","handlePreview","url","preview","originFileObj","handleChange","console","log","uploadButton","length","width"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Upload, Icon, Modal } from 'antd';\r\n\r\nfunction getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = error => reject(error);\r\n    });\r\n}\r\n\r\nconst UploadImage = () => {\r\n    const [previewVisible, setPreviewVisible] = useState(false);\r\n    const [previewImage, setPreviewImage] = useState('');\r\n    const [fileList, setFileList] = useState([]);\r\n\r\n    const handleCancel = () => setPreviewVisible(false);\r\n\r\n    const handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originFileObj);\r\n        }\r\n        setPreviewImage(file.url || file.preview);\r\n        setPreviewVisible(true);\r\n    };\r\n\r\n    const handleChange = ({ fileList }) => {\r\n        console.log(fileList)\r\n        //setFileList(fileList)\r\n    };\r\n\r\n    const uploadButton = (\r\n        <div>\r\n            <Icon type=\"plus\" />\r\n            <div className=\"ant-upload-text\">Upload</div>\r\n        </div>\r\n    );\r\n    return (\r\n        <div className=\"clearfix\">\r\n            <Upload\r\n                action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n                listType=\"picture-card\"\r\n                fileList={fileList}\r\n                onPreview={handlePreview}\r\n                onChange={handleChange}\r\n            >\r\n                {fileList.length >= 8 ? null : uploadButton}\r\n            </Upload>\r\n            <Modal\r\n                visible={previewVisible}\r\n                footer={null}\r\n                onCancel={handleCancel}\r\n            >\r\n                <img\r\n                    alt=\"example\"\r\n                    style={{ width: '100%' }}\r\n                    src={previewImage}\r\n                />\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n// class UploadImage extends React.Component {\r\n//     state = {\r\n//         previewVisible: false,\r\n//         previewImage: '',\r\n//         fileList: [\r\n//             {\r\n//                 uid: '-1',\r\n//                 name: 'image.png',\r\n//                 status: 'done',\r\n//                 url:\r\n//                     'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'\r\n//             }\r\n//         ]\r\n//     };\r\n\r\n//     handleCancel = () => this.setState({ previewVisible: false });\r\n\r\n//     handlePreview = async file => {\r\n//         if (!file.url && !file.preview) {\r\n//             file.preview = await getBase64(file.originFileObj);\r\n//         }\r\n\r\n//         this.setState({\r\n//             previewImage: file.url || file.preview,\r\n//             previewVisible: true\r\n//         });\r\n//     };\r\n\r\n//     handleChange = ({ fileList }) => {\r\n//         console.log(fileList);\r\n//         this.setState({ fileList })\r\n//     };\r\n\r\n//     render() {\r\n//         const { previewVisible, previewImage, fileList } = this.state;\r\n//         const uploadButton = (\r\n//             <div>\r\n//                 <Icon type=\"plus\" />\r\n//                 <div className=\"ant-upload-text\">Upload</div>\r\n//             </div>\r\n//         );\r\n//         return (\r\n//             <div className=\"clearfix\">\r\n//                 <Upload\r\n//                     action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n//                     listType=\"picture-card\"\r\n//                     fileList={fileList}\r\n//                     onPreview={this.handlePreview}\r\n//                     onChange={this.handleChange}\r\n//                 >\r\n//                     {fileList.length >= 8 ? null : uploadButton}\r\n//                 </Upload>\r\n//                 <Modal\r\n//                     visible={previewVisible}\r\n//                     footer={null}\r\n//                     onCancel={this.handleCancel}\r\n//                 >\r\n//                     <img\r\n//                         alt=\"example\"\r\n//                         style={{ width: '100%' }}\r\n//                         src={previewImage}\r\n//                     />\r\n//                 </Modal>\r\n//             </div>\r\n//         );\r\n//     }\r\n// }\r\nexport default UploadImage;\r\n"]},"metadata":{},"sourceType":"module"}