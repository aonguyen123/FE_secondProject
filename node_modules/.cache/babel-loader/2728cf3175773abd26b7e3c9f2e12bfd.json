{"ast":null,"code":"var _jsxFileName = \"E:\\\\web_ungdung\\\\frontend\\\\src\\\\views\\\\Home\\\\Components\\\\UploadImage\\\\UploadImage.js\";\nimport React, { useState } from 'react';\nimport { Upload, Icon, Modal } from 'antd';\n\nfunction getBase64(file) {\n  return new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n\n    reader.onload = () => resolve(reader.result);\n\n    reader.onerror = error => reject(error);\n  });\n}\n\nconst UploadImage = () => {\n  const [previewVisible, setPreviewVisible] = useState(false);\n  const [previewImage, setPreviewImage] = useState('');\n  const [fileList, setFileList] = useState([]);\n\n  const handleCancel = () => setPreviewVisible(false);\n\n  const handlePreview = async file => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n\n    setPreviewImage(file.url || file.preview);\n    setPreviewVisible(true);\n  };\n\n  const handleChange = ({\n    fileList\n  }) => {\n    setFileList(fileList);\n  };\n\n  const uploadButton = React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29\n    },\n    __self: this\n  }, React.createElement(Icon, {\n    type: \"plus\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"ant-upload-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, \"Upload\"));\n\n  const handleDownload = async file => {\n    if (!file.url && !file.preview) {\n      file.preview = await getBase64(file.originFileObj);\n    }\n\n    console.log(file);\n    window.location.href = file.preview;\n  };\n\n  return React.createElement(\"div\", {\n    className: \"clearfix\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }, React.createElement(Upload, {\n    action: \"https://www.mocky.io/v2/5cc8019d300000980a055e76\",\n    method: \"POST\",\n    listType: \"picture-card\",\n    fileList: [...fileList],\n    onPreview: handlePreview,\n    onChange: handleChange,\n    onDownload: handleDownload,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, fileList.length >= 8 ? null : uploadButton), React.createElement(Modal, {\n    visible: previewVisible,\n    footer: null,\n    onCancel: handleCancel,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: \"example\",\n    style: {\n      width: '100%'\n    },\n    src: previewImage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  })));\n};\n\nexport default UploadImage;","map":{"version":3,"sources":["E:/web_ungdung/frontend/src/views/Home/Components/UploadImage/UploadImage.js"],"names":["React","useState","Upload","Icon","Modal","getBase64","file","Promise","resolve","reject","reader","FileReader","readAsDataURL","onload","result","onerror","error","UploadImage","previewVisible","setPreviewVisible","previewImage","setPreviewImage","fileList","setFileList","handleCancel","handlePreview","url","preview","originFileObj","handleChange","uploadButton","handleDownload","console","log","window","location","href","length","width"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { Upload, Icon, Modal } from 'antd';\r\n\r\nfunction getBase64(file) {\r\n    return new Promise((resolve, reject) => {\r\n        const reader = new FileReader();\r\n        reader.readAsDataURL(file);\r\n        reader.onload = () => resolve(reader.result);\r\n        reader.onerror = error => reject(error);\r\n    });\r\n}\r\n\r\nconst UploadImage = () => {\r\n    const [previewVisible, setPreviewVisible] = useState(false);\r\n    const [previewImage, setPreviewImage] = useState('');\r\n    const [fileList, setFileList] = useState([]);\r\n    const handleCancel = () => setPreviewVisible(false);\r\n    const handlePreview = async file => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originFileObj);\r\n        }\r\n        setPreviewImage(file.url || file.preview);\r\n        setPreviewVisible(true);\r\n    };\r\n    const handleChange = ({ fileList }) => {\r\n        setFileList(fileList)\r\n    };\r\n    const uploadButton = (\r\n        <div>\r\n            <Icon type=\"plus\" />\r\n            <div className=\"ant-upload-text\">Upload</div>\r\n        </div>\r\n    );\r\n    const handleDownload = async (file) => {\r\n        if (!file.url && !file.preview) {\r\n            file.preview = await getBase64(file.originFileObj);\r\n        }\r\n        console.log(file)\r\n        window.location.href=file.preview;\r\n    }\r\n\r\n    return (\r\n        <div className=\"clearfix\">\r\n            <Upload\r\n                action=\"https://www.mocky.io/v2/5cc8019d300000980a055e76\"\r\n                method='POST'\r\n                listType=\"picture-card\"\r\n                fileList={[...fileList]}\r\n                onPreview={handlePreview}\r\n                onChange={handleChange}\r\n                onDownload={handleDownload}\r\n            >\r\n                {fileList.length >= 8 ? null : uploadButton}\r\n            </Upload>\r\n            <Modal\r\n                visible={previewVisible}\r\n                footer={null}\r\n                onCancel={handleCancel}\r\n            >\r\n                <img\r\n                    alt=\"example\"\r\n                    style={{ width: '100%' }}\r\n                    src={previewImage}\r\n                />\r\n            </Modal>\r\n        </div>\r\n    );\r\n};\r\nexport default UploadImage;\r\n"]},"metadata":{},"sourceType":"module"}